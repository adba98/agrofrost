<main class="page registration-page">
  <section class="clean-block clean-form dark">
    <div class="container">
      <div class="block-heading">
        <h2 class="text-info">Registrarte</h2>
        <p>
          Al registrarte podrás obtener todos lo benéficos gratuitos que ofrece
          nuestra plataforma, además, de poderte contactar con otros usuarios
        </p>
        <p>
          Si ya te encuentras registrado en la plataforma da click
          <a class="text-info" [routerLink]="'/singin'"> aqui para ingresar</a>
        </p>
      </div>

      <form
        (ngSubmit)="ngOnRegisterBasic(regsiterForm)"
        #regsiterForm="ngForm"
        autocomplete="off"
      >
        <div class="mb-3">
          <label class="form-label" for="firtName">Primer Nombre</label
          ><input
            class="form-control item"
            type="text"
            id="firstName"
            minlength="2"
            [(ngModel)]="user.firstName"
            name="firstName"
            [class.is-invalid]="
              regsiterForm.submitted &&
              regsiterForm.controls['firstName'].errors
            "
            required
          />
          <span
            class="message-error"
            *ngIf="
              regsiterForm.submitted &&
              regsiterForm.controls['firstName'].errors
            "
            >Debe Introducir Nombre valido
          </span>
        </div>
        <div class="mb-3">
          <label class="form-label" for="lastname">Primer Apellido</label
          ><input
            class="form-control item"
            type="text"
            id="lastname"
            minlength="2"
            [(ngModel)]="user.lastName"
            name="lastName"
            required
          />
          <span
            class="message-error"
            *ngIf="
              regsiterForm.submitted && regsiterForm.controls['lastName'].errors
            "
            >Debe Introducir Apellido valido
          </span>
        </div>

        <div class="mb-3">
          <label class="form-label" for="municipality">Municipio</label>
          <select
            class="form-control item"
            type="text"
            id="municipality"
            required
            [(ngModel)]="municipios[0]"
            name="municipality"
            [disabled]="municipios.length === 0"
            #selectorMunicipios="ngModel"
            [class.is-invalid]="
              regsiterForm.submitted && selectorMunicipios.untouched
            "
          >
            <option *ngFor="let item of municipios" [value]="item">
              {{ item }}
            </option>
          </select>

          <span
            class="message-error"
            *ngIf="regsiterForm.submitted && selectorMunicipios.untouched"
            >Debe seleccionar un municipio
          </span>
        </div>

        <div class="mb-3">
          <label class="form-label" for="email">Correo</label
          ><input
            class="form-control item"
            type="email"
            id="email"
            [(ngModel)]="user.email"
            name="email"
            required
            email
          />
          <span
            class="message-error"
            *ngIf="
              regsiterForm.submitted && regsiterForm.controls['email'].errors
            "
            >Debe Introducir email valido
          </span>
        </div>

        <div class="mb-3">
          <label class="form-label" for="password">Contraseña</label
          ><input
            class="form-control item"
            type="password"
            id="password"
            [(ngModel)]="user.password"
            name="password"
            required
            minlength="8"
          />
          <span
            class="message-error"
            *ngIf="
              regsiterForm.submitted && regsiterForm.controls['password'].errors
            "
            >Debe Introducir una Contraseña con minimo 8 caracteres
          </span>
        </div>
        
        <div class="mb-3">
          <div class="form-check">
            <input
            class="form-check-input"
            type="checkbox"
            id="terms"
            [(ngModel)]="acceptTerms"
            name="terms"
            required
            /><label class="form-check-label" for="terms"
            >Acepto termnos y condiciones</label
            >
            <span
              class="message-error"
              *ngIf="
                regsiterForm.submitted && regsiterForm.controls['terms'].errors
              "
              >Debe aceptar los terminos y condiciones 
            </span>
          </div>
        </div>

        <button class="btn btn-primary  w-100 text-white" type="submit">Registarse</button>
      </form>
    </div>
  </section>
</main>
